(function(a,p,x,w,v){a.log=a.log||a.noop;a.ui=a.ui||{};a.ui.log={failingOver:function(b,d,g){a.log(b,["Failing over",g])},requestStarted:function(b,d){a.log(b,["Requesting "+d+"..."])},requestComplete:function(b,d){a.log(b,[d+" request complete"])},timerStart:function(b,d,g){a.log(b,["Starting timer for",d,":",g+"ms"])},timedOut:function(b,d){a.log(b,[d+" request timed out"])},updating:function(b,d,g){a.log(b,["Updating",g])}};var i=function(b){return typeof b==="string"?b&&b.split(","):a.makeArray(b)},
k=function(b,d,g){if(b&&b.indexOf("?")!==-1){b=b.split("?")[1];for(var f=0,h=d.length;f<h;f++){var q=b.indexOf(d[f]);if(q!==-1){q=q+d[f].length+1;var e=b.indexOf("&",q);e=e===-1?b.length:e;g.call(p,d[f],b.substring(q,e))}}}},r=function(){a.log("ui",arguments)};a.ui.elementVal=function(b,d){b=i(b);for(var g=0,f=b.length;g<f;g++)if(b[g]){var h=a("#"+b[g]);(h=h.length?h.val():v)&&h.toLowerCase()!=="null"&&d.call(p,b[g],h)}};a.ui.locationVal=function(b,d){var g={};b=i(b);d=d||function(f,h){if(b.length>
1)g[f]=h;else g=h};b.length&&k(p.location.search||p.location.href,b,function(f,h){d.call(p,f,h)});return g};a.ui.personaVal=function(b,d){b=i(b);if(b.length){var g=a.personaAttr(b);a.each(g,function(f,h){d.call(p,f,h)})}};a.ui.referrerVal=function(b,d){b=i(b);b.length&&k(x.referrer||"",b,function(g,f){d.call(p,g,f)})};a.ui.scriptVarVal=function(b,d,g){b=i(b);if(b.length){g=g||p;a.each(b,function(f,h){d.call(g,h,p[h])})}};a.ui.initPlacements=function(b,d,g){a.isFunction(a.fn[d])&&a(b).each(function(f){var h=
a(this),q="#"+h.attr("id"),e=q.substring(1)||d+"-"+f;if(h.data(d))e=h.data(d).options.pid||e;else h[d]({pid:e});r("Initializing",e,":",d,"ad",q);h.attr("data-pid",e);g&&g.call(this,e,f)})};a.ui.getPlacement=function(b){return a('[data-pid="'+b+'"]')};a.ui.getPageData=function(b,d){var g={},f=d||function(h,q){if(q!==v)g[h]=q};a.ui.personaVal(b.personaData||"",f);a.ui.elementVal(b.elementData||"",f);a.ui.locationVal(b.locationData||"",f);a.ui.referrerVal(b.referrerData||"",f);a.ui.scriptVarVal(b.scriptVarData||
"",f);return g};a.ui.urlDecode=function(b){return w(b.replace(/\+/g," "))}})(jQuery,this,this.document,this.decodeURIComponent);(function(a,p,x,w){a.log=a.log||a.noop;a.tag=a.tag||{};var v=Date.now||function(){return(new Date).getTime()};a.tag.ordParam=function(i){i=i||"standard";switch(i){case "standard":return";ord="+v();case "unique":return";ord=1;num="+v();default:return""}};a.tag.tagElement=function(i,k,r,b){switch(i){case "iframe":return a("<iframe/>").attr({id:r+"-"+b,marginWidth:0,marginHeight:0,hspace:0,vspace:0,frameBorder:0,scrolling:"no",borderColor:"#000",src:k}).height(1).width(1);case "img":return a("<img/>").attr({id:r+
"-"+b,src:k}).height(1).width(1);default:throw Error("Invalid tag element type: "+i);}};a.tag.tagId=function(i,k,r){return i&&r&&k?";src="+i+";type="+r+";cat="+k:""};a.tag.tagSlot=function(i){switch(i){case "iframe":return"activityi";case "img":return"activity";case "script":return"activityj";default:throw Error("Invalid tag slot type: "+i);}};a.tag.getPageUData=function(i,k){var r={},b=k||function(d,g){if(g!==w)r[d]=g};a.ui.personaVal(i.personaUData||"",b);a.ui.elementVal(i.elementUData||"",b);a.ui.locationVal(i.locationUData||
"",b);a.ui.referrerVal(i.referrerUData||"",b);a.ui.scriptVarVal(i.scriptVarUData||"",b);return r}})(jQuery,this.setTimeout,this.clearTimeout);(function(a,p,x,w,v,i,k){a.log=a.log||a.noop;var r=function(e){var c="";if(e.networkId&&e.campaignId)c=e.networkId+"/"+e.campaignId+(e.placement?"."+e.placement:"");if(e.siteName&&e.zoneName)c=e.siteName+"/"+e.zoneName;return c},b=Date.now||function(){return(new Date).getTime()},d=0,g=function(e){return";tile="+e},f=function(){a.log("doubleclick",arguments)},h=(new Date).getTime(),q=function(e){var c=this,t="jsonp"+h++;p[t]=function(){try{e&&e.apply(c,arguments)}catch(j){a.log({level:"error",category:"doubleclick",
message:["Cannot execute jsonp method:",'"'+j.message+'."']})}p[t]=a.noop;try{delete p[t]}catch(o){a.log({level:"info",category:"doubleclick",message:["Cannot delete jsonp method:",'"'+o.message+'."',"Leaving as noop. Expected in IE."]})}};return t};a.each(a.ui.log,function(e){f[e]=function(){var c=Array.prototype.slice.call(arguments);c.unshift("Ad data");c.unshift("doubleclick");a.ui.log[e].apply(a.ui.log,c)}});a.tag.DoubleClickAdService=function(e){this.options=a.extend(true,{},{ajax:{configData:{},
kvData:{},uData:{}},data:{},failover:false,failoverParam:"default",timeout:4},e);this._init=function(){var c=this.options,t=c.timeout*1E3,j=a.ui.locationVal(c.failoverParam)==="true"||c.failover,o=function(){f.timedOut();j=true;v(c.timerId);a.event.trigger("dataTimeout",[{data:c.data}])},s=c.selector.split(",").length;c.serviceInit=b();f("DoubleClickAdService initializing...");a.event.trigger("adServiceInit");a([a.tag.DoubleClickAdService]).bind("viewComplete",function(n,l){c.data[l]&&d--;if(!d&&
c.serviceInit){f("DoubleClickAdService complete:",b()-c.serviceInit+"ms");a.event.trigger("adServiceComplete");delete c.serviceInit}});if(j){f("Displaying default ads...");a.ui.initPlacements(c.selector,"DoubleClickAd",function(n){c.data[n]={}});a.event.trigger("dataTimeout",[{data:c.data}])}else{f("Displaying targeted ads...");c.timerId=i(o,t);f.timerStart(t);a.event.trigger("dataInit");a.ui.getPageData(c,function(n,l){c.ajax.kvData[n]=l});a.tag.getPageUData(c,function(n,l){c.ajax.uData[n]=l});var m=
[];a.ui.initPlacements(c.selector,"DoubleClickAd",function(n){c.data[n]={};d++;m.push(n);var l=a(this),u={},z=q(function(y){a.isPlainObject(y)&&a.extend(true,c.data,y)});a.extend(u,c.ajax,l.data("DoubleClickAd").options,{complete:function(){if(!j){f.requestComplete();d++;if(d/s===2&&d%s===0){v(c.timerId);delete c.timerId;a.event.trigger("dataUpdate",[{data:c.data}])}}}});u.configData.pid=n;u.configData.callback=z;u.adId=r(a.extend({},c,u));if(!j){f.requestStarted();a.ajax.DoubleClickAd(u)}})}};this._init()};
a.ajax.DoubleClickAd=function(e){var c=a.extend(true,{},{adId:"",campaignId:k,configData:{},dcmt:"text/javascript",dataType:"script",elementData:"",elementUData:"",height:k,kvData:{},locationData:"",locationUData:"",networkId:k,personaData:"",personaUData:"",placement:k,referrerData:"",referrerUData:"",reportOnTargetData:true,siteName:k,url:"https://ad.doubleclick.net/",uData:{},width:k,zoneName:k},e),t={},j={},o={},s=function(n,l){if(l!==k)a.isArray(l)?s(n,l.join(",")):o[n]=l};e=function(n,l){if(l!==
k)j[n]=l;c.reportOnTargetData&&s(n,l)};var m=a.ajax.DoubleClickAd;if(a.isEmptyObject(m.kvData)){a.ui.getPageData(c,e);m.kvData=j}else a.extend(j,m.kvData);a.each(c.kvData,e);if(a.isEmptyObject(m.uData)){a.tag.getPageUData(c,s);m.uData=o}else a.extend(o,m.uData);a.each(c.uData,s);a.each(c.configData,function(n,l){if(l!==k)t[n]=l});c.url+="adx/"+(c.adId||r(c))+(c.sz||(c.width&&c.height?";sz="+c.width+"x"+c.height:""))+(a.isEmptyObject(j)?"":";"+a.param(j,true).replace(/&/g,";"))+(a.isEmptyObject(o)?
"":";u="+a.param(o,true).replace(/&/g,"!").replace(/=/g,"_"))+";"+a.param(t,true).replace(/&/g,";")+";dcmt="+w(c.dcmt)+g(a.ajax.DoubleClickAd.getTile())+a.tag.ordParam()+"?";return a.ajax(c)};a.extend(a.ajax.DoubleClickAd,{kvData:{},uData:{},tile:0,getTile:function(){return++this.tile}});a.tag.DoubleClickAd=function(e,c){var t={ariaRole:"img",height:k,label:"doubleclick-ad",rendered:false,update:k};this.element=a(e);this.options=a.extend({},t,c);this.element.data("DoubleClickAd",this);this._init=
function(){var j=this,o=this.options,s=a.tag.DoubleClickAd.getId(),m=o.pid||this.element.attr("id")||"DoubleClickAd-"+s;(this.ad=this.element).addClass("tag-ad tag-doubleclickad chase-widget").attr("role",o.ariaRole);o.id=s;o.pid=m;this.element.trigger("adInit").bind("viewUpdate",function(n,l){var u=l.data||{};if(u[m]){d--;if(!u[m].error&&u[m].view){f.updating(m);o.rendered=true;j.element.trigger("adUpdate",[u[m]]);j._render(u[m])}else if(!o.rendered){f.failingOver(m);j._failover()}}}).bind("dataTimeout viewTimeout",
function(n,l){if((l.data||{})[m]){d--;f.failingOver(m);j._failover()}})};this._complete=function(j){a.event.trigger("viewComplete",[this.options.pid,j]);this.element.trigger("adComplete",[j])};this._destroy=function(){this.ad.removeData("DoubleClickAd").removeAttr("role").removeClass("tag-ad tag-doubleclickad chase-widget");this.defaultAd&&this.ad.append(this.defaultAd)};this._failover=function(){this.ad.trigger("adFailover").addClass("tag-defaultad");this._complete(this.ad.html())};this._render=
function(j){var o=j.url;j=a(a.ui.urlDecode(j.view)).find("a").each(function(){var s=a(this),m=o+s.attr("href");s.attr("href",m)}).end();this.defaultAd=this.ad.empty();this.ad.append(j).height(this.options.height||this.ad.height()).width(this.options.width||this.ad.width());this._complete(j)};this._init()};a.tag.DoubleClickAd.uuid=0;a.tag.DoubleClickAd.getId=function(){return++this.uuid};a.fn.DoubleClickAd=function(e){return this.each(function(){new a.tag.DoubleClickAd(this,e)})}})(jQuery,this,this.decodeURIComponent,
this.encodeURIComponent,this.clearTimeout,this.setTimeout);